{# templates/shared/builder/blocks/snippet.html.twig #}
<div class="relative min-h-[50px]">
    {% if (block.data.editMode|default('visual')) == 'html' %}
        <div class="relative rounded-lg overflow-hidden bg-gray-950 border border-gray-800">
            <div class="absolute top-2 right-4 flex items-center gap-2 pointer-events-none">
                <div class="w-2 h-2 rounded-full bg-red-400 opacity-50"></div>
                <div class="w-2 h-2 rounded-full bg-yellow-400 opacity-50"></div>
                <div class="w-2 h-2 rounded-full bg-green-400 opacity-50"></div>
            </div>
            <textarea 
                id="{{ block.id }}-html"
                data-content-block-target="htmlEditor"
                data-action="input->content-block#syncHtml"
                class="w-full min-h-[300px] p-6 bg-transparent text-gray-300 font-mono text-sm outline-hidden focus:ring-0 resize-y selection:bg-indigo-500/30"
                spellcheck="false"
            >{{ block.data.html }}</textarea>
        </div>
    {% else %}
        <div contenteditable="true" 
             id="{{ block.id }}-visual"
             data-content-block-target="editor"
             data-action="input->content-block#sync keydown->content-block#keydown mouseup->content-block#onSelectionChange"
             data-property="html"
             data-live-ignore
             class="outline-hidden focus:ring-0 transition-opacity snippet-preview not-prose"
             placeholder="Paste your HTML here or use the HTML mode..."
        >{{ block.data.html|raw }}</div>
    {% endif %}
</div>
