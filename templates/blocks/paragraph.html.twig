<div class="prose dark:prose-invert max-w-none relative">
    <div class="relative min-h-[1.5em]">
        {% if (block.data.editMode|default('visual')) == 'html' %}
            <textarea 
                id="{{ block.id }}-html"
                data-content-block-target="htmlEditor"
                data-action="input->content-block#syncHtml"
                data-property="content"
                autofocus
                class="w-full min-h-[200px] p-4 bg-gray-950 text-gray-300 font-mono text-xs rounded-lg border border-gray-800 outline-hidden focus:ring-0 resize-y"
                spellcheck="false"
            >{{ block.data.content }}</textarea>
        {% else %}
            <div contenteditable="true" 
                 id="{{ block.id }}-visual"
                 data-content-block-target="editor"
                 data-action="input->content-block#sync keydown->content-block#keydown mouseup->content-block#onSelectionChange"
                 data-property="content"
                 data-live-ignore
                 class="outline-hidden focus:ring-0 
                        [&_h2]:text-3xl [&_h2]:font-black [&_h2]:mb-6 [&_h2]:mt-8 [&_h2]:text-gray-900 dark:[&_h2]:text-white
                        [&_h3]:text-2xl [&_h3]:font-black [&_h3]:mb-4 [&_h3]:mt-6 [&_h3]:text-gray-900 dark:[&_h3]:text-white
                        [&_h4]:text-xl [&_h4]:font-black [&_h4]:mb-3 [&_h4]:mt-4 [&_h4]:text-gray-800 dark:[&_h4]:text-gray-100
                        [&_h5]:text-sm [&_h5]:font-black [&_h5]:uppercase [&_h5]:tracking-widest [&_h5]:mb-2 [&_h5]:mt-4 [&_h5]:text-indigo-600 dark:[&_h5]:text-indigo-400
                        [&_p]:text-base [&_p]:leading-relaxed [&_p]:mb-4 [&_p]:text-gray-600 dark:[&_p]:text-gray-400
                        [&_ul]:list-disc [&_ul]:pl-5 [&_ul]:mb-4
                        [&_ol]:list-decimal [&_ol]:pl-5 [&_ol]:mb-4"
                 placeholder="Start typing..."
            >{{ block.data.content|raw }}</div>
        {% endif %}
    </div>
</div>
